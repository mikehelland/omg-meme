<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>OMG Creator</title>
	<link rel="stylesheet" href="css/likeomg.css" type="text/css" />
	<link rel="stylesheet" href="css/omeme_creator.css" type="text/css" />
</head>

<body>


	<!--<div id="topbar">

	<a href="/">home</a> &gt; 
	Create a Meme
	
  </div>-->
	<div id="main-body">
		<div id="top-panels">

			<div id="detail-tab-frame">

				<div class="main-tabs">
					<div id="background-tab" class="selected-main-tab">Background</div>
					<div id="character-tab" class="main-tab">Characters</div>
					<div id="dialog-tab" class="main-tab">Dialog</div>
					<div id="doodle-tab" class="main-tab">Doodle</div>
					<div id="soundtrack-tab" class="main-tab">Soundtrack</div>
					<div id="submit-tab" class="main-tab">Submit</div>
				</div>

				<div class="detail-page" id="background-page">

					<div class="row-list">
					</div>

				</div>

				<div class="detail-page" id="character-page">

					<div class="recent-character-list">
					</div>

				</div>

				<div class="detail-page" id="dialog-page">
					<strong>Add a Dialog Bubble </strong>
					<p>
						<input id="dialog-text" placeholder="Put Text Here" type="text">
					</p>
					<p>
						Enter some Text in the box above and then click on the
						scene when and where it should appear.
					</p>
					<div class="dialog-list"></div>
				</div>

				<div class="detail-page" id="soundtrack-page">

					<button class="add-button">Add Audio</button>
					<button class="create-music-button">Create Music</button>
					<!--<button class="add-button">Remix</button>-->
					<button class="search-omg">Search OMG</button>

					<hr />

					<strong>Loaded Sounds:</strong>

					<div class="row-list">
					</div>

					<p class="main-hint">
						Single click the scene to play the entire file.
						<br /><br />
						Click and hold to play for a specific length.
					</p>

				</div>
				<div class="detail-page" id="doodle-page">
				</div>
				<div class="detail-page" id="submit-page">

					<input type="hidden" name="type" value="MEME"></input>
					<input type="hidden" name="redirect" value="true"></input>
					<input id="custom-json" type="hidden" name="data"></input>
					<input id="submit-picture-input" type="hidden" name="picture"></input>

					Title: <br />
					<input type="text" name="title"></input> <br />

					Tags: <br />
					<input type="text" name="tags"></input> <br />
					<br />

					<p class="warning">Your Meme is not Posted Yet! Hit the Post Button below</p>
					<button id="post-button" class="next-button" type="submit" value="Post!">Post</button>

				</div>
			</div>

			<div id="preview-window">
			</div>

		</div>

		<div id="top-bottom-separator"></div>

		<div id="play-seek-controls"></div>

		<div id="layer-panel">
			<div id="layer-list"></div>
			<div id="playhead" class="beat-marker"></div>
		</div>

	</div>
	<div id="fullscreen-window-background">
	</div>



	<script src="/omg.js"></script>

	<script src="js/omeme_player2.js"></script>
	<script src="js/omeme_creator.js"></script>

	<script src="/js/omgservice.js"></script>

	<script>

		/*omg.server.getUser(function (user) {	
			console.log(user);
			if (!user.isLoggedIn) {
				window.location = "/login.jsp?redirectUrl=" + window.location.href;
			}
		});*/



		var urlNextButton = document.getElementById("picture-url-next");
		var step1 = document.getElementById("step-1");
		var step2 = document.getElementById("step-2");
		var step3 = document.getElementById("step-3");
		var imgInput = document.getElementById("picture-input");
		var youtubeInput = document.getElementById("youtube-input");

		var memePlayerDiv = document.getElementById("preview-window");
		
		setupLayout(memePlayerDiv);


		var memeCreator = new MemeCreator({ playerDiv: memePlayerDiv });


		function setupLayout(previewWindow) {
			var div = previewWindow;
			if (window.innerWidth < window.innerHeight) {
				div.style.top = "0px";
				previewWindow.style.position = "static";
				previewWindow.style.position = "relative";
				var left = window.innerWidth / 2 - div.clientWidth / 2;
				console.log(div.clientWidth);
				div.style.left = left + "px";

				document.getElementById("detail-tab-frame").style.margin = "auto"
			}

		}
	</script>

</body>

</html>